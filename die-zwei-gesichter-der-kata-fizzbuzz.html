

<!doctype html>
 





<html lang="de">
  <head>
    <meta charset="utf-8">
    <title>Die Zwei Gesichter der Kata FizzBuzz </title>
    <meta name="description" content="Eine kurze Abhandlung über ambivalente Erkenntnisse bei regelmäßiger Lösung der Kata FizzBuzz.">
    <meta name="author" content="Ilker Cetinkaya">
    <meta name="viewport" content="width=device-width">
    <meta name="robots" content="index,follow">
    <link rel="shortcut icon" href="/favicon.ico?i3">
    <link rel="alternate" type="application/atom+xml" href="/feed.xml" title="ilker.de/articles">

        <link rel="stylesheet" type="text/css" href="http://app.ilker.de/devy?q=http://www.ilker.de/media/css/style.css?i3">
                <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Gudea|Droid%20Sans%20Mono" >
    
        <script src="/media/js/app.js"></script>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.1.1.min.js"></script>
                <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32542012-1']);
  _gaq.push(['_setDomainName', 'ilker.de']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>          </head>
  <body id="die-zwei-gesichter-der-kata-fizzbuzz">
    <a href="die-zwei-gesichter-der-kata-fizzbuzz"></a>
    <div id="page" class="article-page">
      <div id="header">
        <div id="pin"><a href="http://ilker.de"><span class='no'>Home
</span></a></div>
        <div id="bar">
          <h2>Die Zwei Gesichter der Kata FizzBuzz </h2>
        </div>
      </div>

      <div id="content" class="article">
        <p>Die Woche war wieder einmal eine dieser Dojo-Wochen. Am Montag gab es in München das übliche .NET Coding Dojo bei JetBrains. Es war ein sehr interessantes Dojo, zumal wir uns diesmal zum Ziel gesetzt haben, ReSharper als Tool näher kennenzulernen. Die Code Kata war da eher "nebensächlich". Nebenbei: Es war die Kata <a href="http://osherove.com/tdd-kata-1/">StringCalculator von Roy Osherove</a>. Ich konnte aus dem Coding Dojo einige Erkenntnisse mitnehmen, wovon eine davon das lernen von ein-zwei Shortcuts von ReSharper gewesen ist (<code>ALT-R-U-N</code> für das ausführen aller Tests in einer Solution und <code>CTRL-W</code> für "Expand Selection").</p>
<p>Dann gab es noch das tolle Coding Dojo in Nürnberg bei der <a href="http://sites.google.com/site/dodned">DNUG Franken</a>. Ich empfand dabei von Anfang an eine besonders lockere und angenehme Atmosphäre, die meines Erachtens dem Coding Dojo einen sehr konstruktiven Schub gab. Als weitere Besonderheit sollte nicht unerwähnt bleiben, dass viele Teilnehmer den "Erstkontakt" mit einem Coding Dojo hatten und neben einigen Erfahrenen auch ein paar Einsteiger sich dem Thema TDD/BDD widmeten. Es wurden zwei Gruppen gebildet, die sich dann der Kata <a href="http://codingdojo.org/cgi-bin/wiki.pl?KataFizzBuzz">FizzBuzz</a> angenommen haben. Meiner Meinung nach ist FizzBuzz eine gute Einsteiger-Kata, bei der drei grundlegende Prinzipien des TDD relativ deutlich werden.</p>
<p>An dieser Stelle möchte ich garnicht weiter auf die beachtenswerten Lösungen der "Dodnedder" aus Franken eingehen, sondern eine <a href="https://github.com/ilkerde/CodeKatas/commits/master/KataFizzBuzz">meiner eigenen Implementierungen</a> von FizzBuzz vorstellen. Wer FizzBuzz schon ein paar mal implementiert hat, der wird vielleicht auch wissen, dass es mehrere (leicht unterschiedliche) Lösungsvarianten gibt. Die Lösung, die ich hier vorstelle ist einer meiner persönlichen Favoriten, weil es vielen Einsteigern (und manchen Fortgeschrittenen) ein Stirnrunzeln entlockt.</p>
<p><strong>FizzBuzz.cs</strong>:</p>
<div class="codehilite"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">KataFizzBuzz</span> <span class="p">{</span>
  <span class="k">public</span> <span class="k">class</span> <span class="nc">FizzBuzz</span> <span class="p">{</span>
    <span class="k">public</span> <span class="kt">string</span> <span class="nf">Translate</span><span class="p">(</span><span class="kt">int</span> <span class="n">number</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">number</span> <span class="p">%</span> <span class="m">15</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="s">&quot;FizzBuzz&quot;</span><span class="p">;</span>

      <span class="k">if</span> <span class="p">(</span><span class="n">number</span> <span class="p">%</span> <span class="m">5</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="s">&quot;Buzz&quot;</span><span class="p">;</span>

      <span class="k">if</span> <span class="p">(</span><span class="n">number</span> <span class="p">%</span> <span class="m">3</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="s">&quot;Fizz&quot;</span><span class="p">;</span>

      <span class="k">return</span> <span class="n">number</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">TranslateRange</span><span class="p">(</span><span class="kt">int</span> <span class="k">from</span><span class="p">,</span> <span class="kt">int</span> <span class="n">to</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">translations</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>

      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="k">from</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;=</span> <span class="n">to</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
        <span class="n">translations</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="n">Translate</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>

      <span class="k">return</span> <span class="n">translations</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p><strong>FizzBuzzTranslateTests.cs</strong>:</p>
<div class="codehilite"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">NUnit.Framework</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">KataFizzBuzz</span> <span class="p">{</span>
<span class="na">  [TestFixture]</span>
  <span class="k">public</span> <span class="k">class</span> <span class="nc">FizzBuzzTranslateTests</span> <span class="p">{</span>
<span class="na">    [Test]</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Multiples_Of_Three_Returns_Fizz</span><span class="p">()</span> <span class="p">{</span>
      <span class="n">FizzBuzz</span> <span class="n">fizzbuzz</span> <span class="p">=</span> <span class="k">new</span> <span class="n">FizzBuzz</span><span class="p">();</span>
      <span class="kt">string</span> <span class="n">translation</span> <span class="p">=</span> <span class="n">fizzbuzz</span><span class="p">.</span><span class="n">Translate</span><span class="p">(</span><span class="m">6</span><span class="p">);</span>

      <span class="n">Assert</span><span class="p">.</span><span class="n">That</span><span class="p">(</span><span class="n">translation</span><span class="p">,</span> <span class="n">Is</span><span class="p">.</span><span class="n">EqualTo</span><span class="p">(</span><span class="s">&quot;Fizz&quot;</span><span class="p">));</span>
    <span class="p">}</span>

<span class="na">    [Test]</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Multiples_Of_Five_Returns_Buzz</span><span class="p">()</span> <span class="p">{</span>
      <span class="n">FizzBuzz</span> <span class="n">fizzbuzz</span> <span class="p">=</span> <span class="k">new</span> <span class="n">FizzBuzz</span><span class="p">();</span>
      <span class="kt">string</span> <span class="n">translation</span> <span class="p">=</span> <span class="n">fizzbuzz</span><span class="p">.</span><span class="n">Translate</span><span class="p">(</span><span class="m">10</span><span class="p">);</span>

      <span class="n">Assert</span><span class="p">.</span><span class="n">That</span><span class="p">(</span><span class="n">translation</span><span class="p">,</span> <span class="n">Is</span><span class="p">.</span><span class="n">EqualTo</span><span class="p">(</span><span class="s">&quot;Buzz&quot;</span><span class="p">));</span>
    <span class="p">}</span>

<span class="na">    [Test]</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Multiples_Of_Three_And_Five_Returns_FizzBuzz</span><span class="p">()</span> <span class="p">{</span>
      <span class="n">FizzBuzz</span> <span class="n">fizzbuzz</span> <span class="p">=</span> <span class="k">new</span> <span class="n">FizzBuzz</span><span class="p">();</span>
      <span class="kt">string</span> <span class="n">translation</span> <span class="p">=</span> <span class="n">fizzbuzz</span><span class="p">.</span><span class="n">Translate</span><span class="p">(</span><span class="m">15</span><span class="p">);</span>

      <span class="n">Assert</span><span class="p">.</span><span class="n">That</span><span class="p">(</span><span class="n">translation</span><span class="p">,</span> <span class="n">Is</span><span class="p">.</span><span class="n">EqualTo</span><span class="p">(</span><span class="s">&quot;FizzBuzz&quot;</span><span class="p">));</span>
    <span class="p">}</span>

<span class="na">    [Test]</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">No_Multiples_Of_Three_Or_Five_Returns_Number</span><span class="p">()</span> <span class="p">{</span>
      <span class="n">FizzBuzz</span> <span class="n">fizzbuzz</span> <span class="p">=</span> <span class="k">new</span> <span class="n">FizzBuzz</span><span class="p">();</span>
      <span class="kt">string</span> <span class="n">translation</span> <span class="p">=</span> <span class="n">fizzbuzz</span><span class="p">.</span><span class="n">Translate</span><span class="p">(</span><span class="m">7</span><span class="p">);</span>

      <span class="n">Assert</span><span class="p">.</span><span class="n">That</span><span class="p">(</span><span class="n">translation</span><span class="p">,</span> <span class="n">Is</span><span class="p">.</span><span class="n">EqualTo</span><span class="p">(</span><span class="s">&quot;7&quot;</span><span class="p">));</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p><strong>FizzBuzzTranslateRangeTests.cs</strong>:</p>
<div class="codehilite"><pre><span class="k">using</span> <span class="nn">System</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">NUnit.Framework</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">KataFizzBuzz</span> <span class="p">{</span>
<span class="na">  [TestFixture]</span>
  <span class="k">public</span> <span class="k">class</span> <span class="nc">FizzBuzzTranslateRangeTests</span> <span class="p">{</span>
<span class="na">    [Test]</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Range_From_1_To_100_Returns_100_Elements</span><span class="p">()</span> <span class="p">{</span>
      <span class="n">FizzBuzz</span> <span class="n">fizzbuzz</span> <span class="p">=</span> <span class="k">new</span> <span class="n">FizzBuzz</span><span class="p">();</span>
      <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">translations</span> <span class="p">=</span> <span class="n">fizzbuzz</span><span class="p">.</span><span class="n">TranslateRange</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">100</span><span class="p">);</span>

      <span class="n">Assert</span><span class="p">.</span><span class="n">That</span><span class="p">(</span><span class="n">translations</span><span class="p">,</span> <span class="n">Has</span><span class="p">.</span><span class="n">Count</span><span class="p">.</span><span class="n">EqualTo</span><span class="p">(</span><span class="m">100</span><span class="p">));</span>
    <span class="p">}</span>

<span class="na">    [Test]</span>
    <span class="k">public</span> <span class="k">void</span> <span class="nf">Returns_Elements_Whose_Values_Match_The_Translation_Of_Their_Corresponding_Keys</span><span class="p">()</span> <span class="p">{</span>
      <span class="n">FizzBuzz</span> <span class="n">fizzbuzz</span> <span class="p">=</span> <span class="k">new</span> <span class="n">FizzBuzz</span><span class="p">();</span>
      <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">translations</span> <span class="p">=</span> <span class="n">fizzbuzz</span><span class="p">.</span><span class="n">TranslateRange</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">15</span><span class="p">);</span>

      <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">translation</span> <span class="k">in</span> <span class="n">translations</span><span class="p">)</span>
          <span class="n">Assert</span><span class="p">.</span><span class="n">That</span><span class="p">(</span><span class="n">translation</span><span class="p">.</span><span class="n">Value</span><span class="p">,</span> <span class="n">Is</span><span class="p">.</span><span class="n">EqualTo</span><span class="p">(</span><span class="n">fizzbuzz</span><span class="p">.</span><span class="n">Translate</span><span class="p">(</span><span class="n">translation</span><span class="p">.</span><span class="n">Key</span><span class="p">)));</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Das interessante an dieser Lösungsvariante ist die Zwiespältigkeit. Meiner Meinung nach ist die Lösung</p>
<ul>
<li>zwar ausreichend, aber nicht vollständig,</li>
<li>sie ist stark genug, aber mit Schwachpunkten,</li>
<li>sie beginnt schnell, aber endet langsamer,</li>
<li>sie ist offensichtlich, aber dennoch diskutabel.</li>
</ul>
<p>Genau das ist es, was ich <em>gerade an dieser</em> Lösungsvariante von FizzBuzz mag.</p>      </div>

      <div id="footer">
                <div class="about">
          <hr />
          <div id="published"><span class='no'>written on 
</span>01 April 2011</div>
          <div id="reference"><span class='no'>by Ilker Cetinkaya.
</span></div>
        </div>
        
                <div class="location">
          <hr />
          <div id="breadcrumb">
                        <a href="/index.html">Main</a>
                            / <a href="/articles.html">Articles</a>
                                    </div>
        </div>
        
                <div class="index">
          <hr />
          <div id="logo"><span class='no'>Index of ilker.de
</span></div>
          <ul id="menu">
            <li><a href="/articles.html">
Artikel</a></li>
            <li><a href="/talks.html">
Vorträge</a></li>
            <li><a href="/bio.html">
Person</a></li>
          </ul>
        </div>
              </div>
      
      <div id="meta">
                        <div id="related">
          <hr />
          <h5>
Aktionen</h5>
                    <ul>
                        <li><a href="/feed.xml">
Abonnieren</a></li>
                                    <li><a href="/comments.html?ref=/die-zwei-gesichter-der-kata-fizzbuzz.html&title=Die Zwei Gesichter der Kata FizzBuzz ">
Kommentieren</a></li>
                      </ul>
                  </div>
                        <div id="website">
          <hr />
          <h5>Website
</h5>
          <ul>
            <li><a href="/about.html">
Kolophon</a></li>
            <li><a href="/imprint.html">
Impressum</a></li>
          </ul>
        </div>
                      </div>

      <div id="disclaimer">
                <hr />
        <p>(c) Copyright <span class='no'>.
</span>1998 - 2013<span class='no'>.
</span> Ilker Cetinkaya.</p>
              </div>
    </div>
    <script type="text/javascript">
      require(['main'], function(app){
                              });
    </script>
  </body>
</html>
